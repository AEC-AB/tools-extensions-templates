<!-- 
    MainWindow.xaml - The primary window for the RevitAppExtension application.
    
    This window serves as the main container for the application UI and uses the WPF-UI
    FluentWindow control to provide a modern Windows 11-style interface. The window
    contains:
    
    1. A TitleBar for window chrome
    2. A NavigationView for navigating between different pages (Home and About)
    3. A SnackbarPresenter for displaying notification messages
    4. A ContentPresenter for modal dialogs
    
    This layout uses WPF-UI's navigation system where views are automatically created
    and associated with their corresponding view models through the TargetPageType property.
    
    The actual view content is specified in the ViewBindings.xaml resource dictionary,
    which maps view models to their respective views.
-->
<ui:FluentWindow x:Class="RevitAppExtension.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RevitAppExtension"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:resources="clr-namespace:RevitAppFramework.Resources"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        mc:Ignorable="d"
        resources:ResourceInjectionBehavior.InjectResources="True"
        xmlns:viewModels="clr-namespace:RevitAppExtension.ViewModels"
        xmlns:views="clr-namespace:RevitAppExtension.Views" 
        d:DataContext="{d:DesignInstance local:MainWindow}"
        Title="RevitAppExtension" Height="450" Width="800">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <ui:TitleBar Title="{Binding Title, RelativeSource={RelativeSource AncestorType=ui:FluentWindow}}" />


        <Grid Grid.Row="1">
            <Grid.Resources>
                <Style TargetType="ui:DynamicScrollViewer" BasedOn="{StaticResource UiDynamicScrollViewer}" />
            </Grid.Resources>

            <ui:NavigationView PaneDisplayMode="LeftFluent" x:Name="NavView">
                <ui:NavigationView.MenuItems>
                    <ui:NavigationViewItem Content="Home" Icon="{ui:SymbolIcon Fluent24}" TargetPageType="{x:Type viewModels:HomeViewModel}"/>
                    <ui:NavigationViewItem Content="About" Icon="{ui:SymbolIcon Info24}" TargetPageType="{x:Type viewModels:AboutViewModel}"/>
                </ui:NavigationView.MenuItems>
                <ui:NavigationView.ContentOverlay>
                    <ui:SnackbarPresenter x:Name="SnackbarPresenter" />
                </ui:NavigationView.ContentOverlay>
            </ui:NavigationView>

            <ContentPresenter x:Name="RootContentDialogPresenter" Grid.Row="0" />
        </Grid>

    </Grid>
</ui:FluentWindow>
